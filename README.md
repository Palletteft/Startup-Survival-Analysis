# 📊 基于生存分析与机器学习的中国创业公司存活周期研究

> **2025 秋《基于 Python 的问题解析》期末大作业** > **学生姓名**：肖浙俊  
> **学号**：2025104263  
> **学院**：统计与大数据研究院

---

## 📖 1. 项目简介 (Project Introduction)

本项目通过分析一份包含 **6,271 家已倒闭中国创业公司** 的数据集 (`com.csv`)，旨在探究影响初创企业存活时长的关键因素，并构建预测模型。

本项目采用 **面向对象编程 (OOP)** 思想封装数据处理流程，结合 **生存分析 (Survival Analysis)** 与 **机器学习 (Machine Learning)** 两种方法论，实现了以下目标：

* **量化风险**：使用 Cox 模型量化资本、地域和行业对企业死亡风险的影响。
* **预测寿命**：使用 XGBoost 回归模型预测初创企业的具体存活天数。
* **方法论对比**：探讨了统计推断（解释性）与机器学习（预测性）在商业分析中的互补作用。

---

## 🔍 3. 探索性数据分析 (Exploratory Data Analysis)

在进入建模之前，我们对数据进行了深入清洗与可视化，发现了以下宏观趋势：

* **死亡之谷 (Valley of Death)**：企业的存活天数呈显著右偏分布，中位数约为 **3年**（~1100天）。大量企业在成立后的前三年内倒闭。
* **资本的马太效应**：融资轮次与存活时间呈强正相关。获投轮次越靠后（如 C 轮、D 轮），企业的生存周期越长且方差越大。
* **死因分析**：
    * **商业模式匮乏 (Business Model Failure)** 是导致失败的首要原因，远高于单纯的“资金链断裂”。
    * 行业差异显著：**金融**行业受政策监管影响最大，而**电商**行业则更多死于激烈的市场竞争。

---

## 📈 4. 生存分析建模 (Survival Analysis)

本项目采用半参数模型 **Cox Proportional Hazards Model (CPH)** 进行风险建模。

### 核心发现
* **模型精度**：C-index 达到 **0.8938**，表明模型具有极高的区分度。
* **关键风险因子**：
    * **资金保护作用**：获得融资可使企业的瞬时死亡风险降低约 **14%** (`HR=0.86`)。
    * **地域不平等**：相比一线城市，内陆地区（如四川）的企业面临高出 **27%** 的死亡风险 (`HR=1.27`)。

### 模型诊断 (Model Diagnostics)
通过 **Schoenfeld 残差检验**，我们发现“是否有融资”这一变量违反了比例风险假设。
> **洞察**：资金的保护作用具有**时间依赖性 (Time-dependent Effect)**——它在创业早期最强，但随着企业成熟，资金光环逐渐褪去，运营能力成为主导。

---

## 🤖 5. 机器学习预测 (Machine Learning Prediction)

为了弥补生存分析无法给出确切寿命值的局限，我们将问题转化为**回归任务**，预测具体的 `live_days`。

### 模型对比与调优
我们对比了 **Random Forest** 和 **XGBoost** 两种集成算法：

| 模型 | 特点 | 表现 |
| :--- | :--- | :--- |
| **Random Forest** | Bagging 方法，抗过拟合能力强 | 表现良好，但对稀疏特征处理一般 |
| **XGBoost** | Boosting 方法，支持缺失值处理 | **最优 (Best Performance)**，RMSE 最低 |

### 调参结果
通过 `GridSearchCV` 对 `max_depth` 和 `n_estimators` 进行网格搜索，最优参数组合为 `depth=6`, `estimators=300`。模型在捕捉行业与融资之间的非线性交互作用方面表现出色。

---

## 📂 6. 项目文件结构 (File Structure)

```text
├── data/
│   └── com.csv                 # 原始数据集 (需放置于此或根目录)
├── images/                     # 分析过程中生成的图表 (如 KM曲线, 残差图)
├── python_homework.ipynb       # 核心分析代码 (Jupyter Notebook)
├── README.md                   # 项目说明文档
└── requirements.txt            # 项目依赖库列表
